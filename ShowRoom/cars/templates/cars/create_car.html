{% extends "cars/base.html" %}
{% block title %}Add Car{% endblock %}

{% block content %}
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5+0I2I3mt16s+IRedVoN1gFPU1qGVXMvoK9nQfUp"
    crossorigin="anonymous"
/>
<h1 class="text-center mb-4">Add a New Car</h1>
<form method="post" enctype="multipart/form-data" class="car-form">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="{{ form.name.id_for_label }}">Car Name</label>
        {{ form.name }}
    </div>
    
    <div class="form-group">
        <label for="{{ form.brand.id_for_label }}">Brand</label>
        {{ form.brand }}
    </div>
    
    <div class="form-group">
        <label for="{{ form.photo.id_for_label }}">Car Photo</label>
        {{ form.photo }}
    </div>
    
    <div class="form-group">
        <label for="{{ form.specs.id_for_label }}">Car Specifications</label>
        {{ form.specs }}
    </div>
    
    <div class="form-group">
        <label for="{{ form.model.id_for_label }}">Car Model</label>
        {{ form.model }}
    </div>
    
    <div class="form-group">
        <label for="{{ form.price.id_for_label }}">Car Price</label>
        {{ form.price }}
    </div>

    <div class="form-check">
        <label class="form-check-label" for="{{ form.color.id_for_label }}">Color</label>
        {{form.colors}}
    </div>

    <button type="submit" class="btn btn-primary btn-block">Add Car</button>
</form>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Select all checkboxes with data-color attribute
    const colorInputs = document.querySelectorAll('input[data-color]');

    colorInputs.forEach(input => {
        const color = input.getAttribute('data-color');
        const label = input.nextElementSibling; // Get the corresponding label

        // Apply the background color and set label text color to black
        if (label) {
            label.style.backgroundColor = color;
            label.style.color = "#000000"; // Ensure text color is black
            label.style.padding = "5px"; // Optional styling for better visibility
            label.style.borderRadius = "3px"; // Optional rounded corners
        }
    });
});


</script>
{% endblock %}